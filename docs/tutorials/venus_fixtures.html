
  <!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Using fixtures &mdash; Venus.js 1.0.9 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Venus.js 1.0.9 documentation" href="../index.html" />
    <link rel="next" title="Annotations (@venus-*)" href="../reference/annotations.html" />
    <link rel="prev" title="Using different testing libraries" href="testing_libraries.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../reference/annotations.html" title="Annotations (@venus-*)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="testing_libraries.html" title="Using different testing libraries"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Venus.js documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="using-fixtures">
<span id="venus-fixtures"></span><h1>Using fixtures<a class="headerlink" href="#using-fixtures" title="Permalink to this headline">¶</a></h1>
<div class="section" id="why">
<h2>Why?<a class="headerlink" href="#why" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">&#64;venus-fixture</span></tt> imports HTML markup into your test page and gives you
quick access to DOM nodes for testing your client side interactions.
Importing HTML fixtures saves you the time otherwise spent stubbing or
mocking the DOM or elements.</p>
</div>
<div class="section" id="how">
<h2>How?<a class="headerlink" href="#how" title="Permalink to this headline">¶</a></h2>
<p>Include the <tt class="docutils literal"><span class="pre">&#64;venus-fixture</span></tt> directive in your venus annotation block.
The argument passed to <tt class="docutils literal"><span class="pre">&#64;venus-fixture</span></tt> is a file path, it&#8217;s relative
to test file you&#8217;re annotating. An example of this directive is below:</p>
<div class="highlight-python"><pre>@venus-fixture ../fixtures/exampleFixture.fixture.html</pre>
</div>
<p>The full annotation block to may look like the following:</p>
<div class="highlight-python"><pre>/**
 * @venus-library mocha
 * @venus-include ../lib/zepto.1.0.min.js
 * @venus-include ../src/Silence.js
 * @venus-fixture ../fixtures/exampleFixture.fixture.html
 */</pre>
</div>
<p>When you run your test, the markup from <tt class="docutils literal"><span class="pre">exampleFixture.fixture.html</span></tt>
will be available on your test page. The ability to test your DOM
manipulations and callbacks to user interactions is now at your
fingertips.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Example test directory structure:</p>
<div class="highlight-python"><pre>// Example Test Folder Structure

|-simpleFixtureExample
  |-lib
    |-zepto.1.0.min.js
  |-specs
    |-exampleFixture.spec.js
  |-fixtures
    |-exampleFixture.fixture.html</pre>
</div>
<p>The contents of our HTML fixture file <tt class="docutils literal"><span class="pre">exampleFixture.fixture.html</span></tt>:</p>
<div class="highlight-python"><pre>&lt;div id="example-fixture-container"&gt;&lt;/div&gt;</pre>
</div>
<p><strong>Example test</strong> uses zepto to verify that our HTML fixture has been loaded on the page:</p>
<div class="highlight-python"><pre>describe('Testing @venus-fixture', function() {
  it('Loads our html', function() {
    var length = $('#example-fixture-container').length;
    expect(length).to.be(1);
  });
});</pre>
</div>
<p><strong>Example test</strong> verifies that a callback was fired by a click event, and that the arguments passed contained a specific DOM id:</p>
<div class="highlight-python"><pre>describe('Test event delegation target', function() {
  it('Click target should equal "example-fixture-container"', function() {
    var spy = sinon.spy();

    document.addEventListener('click', spy, true);
    $('#example-fixture-container').trigger('click');

    // Callback gets called once
    expect(spy.calledOnce).to.equal(true);
    // The expected element id was passed
    expect(spy.args[0][0].target.id).to.equal('example-fixture-container');
  });
});</pre>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <!-- <img src="../_static/logo-75.png"> -->

  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Using fixtures</a><ul>
<li><a class="reference internal" href="#why">Why?</a></li>
<li><a class="reference internal" href="#how">How?</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="testing_libraries.html"
                        title="previous chapter">Using different testing libraries</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../reference/annotations.html"
                        title="next chapter">Annotations (&#64;venus-*)</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/tutorials/venus_fixtures.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../reference/annotations.html" title="Annotations (@venus-*)"
             >next</a> |</li>
        <li class="right" >
          <a href="testing_libraries.html" title="Using different testing libraries"
             >previous</a> |</li>
        <li><a href="../index.html">Venus.js documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, LinkedIn.
      Last updated on May 30, 2013.
    </div>
  </body>
</html>